# Database Backup Utility Test Suite

This directory contains comprehensive tests for the Database Backup Utility application.

## Test Organization

The test suite is organized into the following components:

- **Unit Tests**: Test individual functions and components in isolation
- **Integration Tests**: Test how components work together
- **Command Tests**: Test the command-line interface commands
- **Utility Tests**: Test utility functions and modules

## Prerequisites

Before running the tests, you need to set up the test environment:

1. Install test dependencies:
   ```bash
   pip install pytest pytest-cov mock
   ```

2. Set up test databases and configurations:
   ```bash
   python Test_Database_Seeder_Script.py
   ```
   
   This script creates:
   - A test SQLite database
   - A test PostgreSQL database (requires a local PostgreSQL server)
   - A test MongoDB database (requires a local MongoDB server)
   - Test configuration files

## Running Tests

To run the entire test suite:

```bash
pytest
```

To run specific test files:

```bash
pytest tests/test_utils.py
pytest tests/test_commands/test_backup_database.py
```

To run tests with coverage information:

```bash
pytest --cov=src
```

To generate a coverage report:

```bash
pytest --cov=src --cov-report=html
```

## Test Environment

The tests use a dedicated test environment with:

- Mocked database connections
- Temporary files and directories
- Isolated configuration files
- Simulated user inputs

No actual cloud storage or production databases are used during testing.

## Adding New Tests

When adding new tests:

1. Follow the existing test structure
2. Use fixtures from `conftest.py` for common test setup
3. Mock external dependencies (database connections, subprocess calls, etc.)
4. Consider edge cases and failure scenarios
5. Run tests with coverage to ensure thorough testing

## Test Fixtures

The `conftest.py` file contains fixtures for:

- Mocked database connections
- Temporary files and directories
- Simulated user inputs
- Mocked subprocess calls
- Configuration overrides

## Test Data

Test data is generated by:

- The `Test_Database_Seeder_Script.py` script for actual database testing
- Test fixtures for mocked database operations